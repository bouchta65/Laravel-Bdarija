<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laravel 11: Request Lifecycle Animation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <style>
        .path {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
        }
        .component {
            opacity: 0;
            transform: translateY(20px);
        }
        .code-block {
            display: none;
        }
        .slide {
            display: none;
        }
        .active-slide {
            display: block;
        }
        .progress-bar {
            transition: width 0.5s ease;
        }
        #request-object {
            position: absolute;
            left: 10%;
            top: 30%;
            transition: all 1.5s ease;
        }
    </style>
    
</head>
<body class="bg-gray-100 font-sans">
    <div class="container mx-auto px-4 py-8 max-w-6xl relative min-h-screen">
   
        
        <div class="container mx-auto px-4 py-8 max-w-6xl relative min-h-screen">
            <!-- Navigation -->
            <div class="fixed top-4 right-4 z-50 flex space-x-4">
              <button id="prev-btn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg shadow transition">Prev</button>
              <button id="next-btn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg shadow transition">Next</button>
              <button id="restart-btn" class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg shadow transition">Restart</button>
              <a href="strecture.html">
                <button  class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg shadow transition">strecture</button>
              </a>
            </div>
        
            <!-- Progress bar -->
            <div class="fixed top-0 left-0 w-full h-2 bg-gray-300 z-50">
              <div id="progress-bar" class="h-full bg-red-600 progress-bar" style="width: 0%"></div>
            </div>
        <!-- Slide 1: User Request -->
        <div id="slide-1" class="slide">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Step 1: User Request</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-8">
                <div>
                    <p class="text-lg text-gray-700 mb-4">Every Laravel application begins with a user request to your server.</p>
                    <p class="text-lg text-gray-700 mb-4">This could be:</p>
                    <ul class="list-disc pl-6 mb-6 text-lg text-gray-700">
                        <li class="mb-2">A URL typed in the browser</li>
                        <li class="mb-2">An AJAX call from JavaScript</li>
                        <li class="mb-2">An API request from a mobile app</li>
                        <li class="mb-2">A form submission</li>
                    </ul>
                    <p class="text-lg text-gray-700">All requests are directed to your application's public directory, specifically the <code class="bg-gray-200 px-1 rounded">index.php</code> file.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg relative h-64">
                    <div id="browser" class="component">
                        <div class="w-full h-8 bg-gray-200 rounded-t-lg flex items-center px-4">
                            <div class="w-3 h-3 rounded-full bg-red-500 mr-2"></div>
                            <div class="w-3 h-3 rounded-full bg-yellow-500 mr-2"></div>
                            <div class="w-3 h-3 rounded-full bg-green-500 mr-2"></div>
                            <div class="flex-1 bg-white h-5 rounded-sm px-2 text-xs flex items-center">
                                example.com/users
                            </div>
                        </div>
                        <div class="w-full h-48 bg-white border border-gray-200 rounded-b-lg flex items-center justify-center">
                            <div id="request-animation" class="text-center">
                                <svg width="50" height="50" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mx-auto mb-2">
                                    <path d="M21 12L3 12" stroke="#DC2626" stroke-width="2" stroke-linecap="round"/>
                                    <path d="M12 3L3 12L12 21" stroke="#DC2626" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <p class="text-sm text-gray-600">HTTP Request</p>
                            </div>
                        </div>
                    </div>
                    <div id="request-object" class="bg-red-100 border border-red-300 rounded-lg p-3 text-xs shadow-md">
                        <p><span class="font-semibold">GET</span> /users</p>
                        <p><span class="font-semibold">Accept:</span> text/html</p>
                        <p><span class="font-semibold">User-Agent:</span> Browser</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Slide 2: Entry Point -->
        <div id="slide-2" class="slide">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Step 2: Entry Point</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-8">
                <div>
                    <p class="text-lg text-gray-700 mb-4">All requests first hit the <code class="bg-gray-200 px-1 rounded">public/index.php</code> file - the entry point for all requests.</p>
                    <p class="text-lg text-gray-700 mb-4">This file:</p>
                    <ul class="list-disc pl-6 mb-6 text-lg text-gray-700">
                        <li class="mb-2">Loads the Composer autoloader</li>
                        <li class="mb-2">Creates the application instance</li>
                        <li class="mb-2">Retrieves the HTTP kernel</li>
                        <li class="mb-2">Sends the request to the kernel</li>
                        <li class="mb-2">Sends the response back to the client</li>
                    </ul>
                    <button id="show-index-code" class="text-red-600 hover:text-red-800 font-semibold transition">View index.php code →</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div class="component" id="folder-structure">
                        <div class="text-sm mb-4">
                            <span class="text-gray-500">my-laravel-project/</span>
                            <ul class="pl-6">
                                <li class="text-gray-500">app/</li>
                                <li class="text-gray-500">bootstrap/</li>
                                <li class="text-gray-500">config/</li>
                                <li class="text-gray-500">database/</li>
                                <li class="text-gray-500">resources/</li>
                                <li class="text-gray-500">routes/</li>
                                <li class="font-medium text-red-600">public/
                                    <ul class="pl-6">
                                        <li class="font-bold text-red-700">index.php <span class="text-red-500">← Entry Point</span></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <pre id="index-code" class="code-block bg-gray-800 text-white p-4 rounded text-sm overflow-x-auto">
// public/index.php

// Load Composer's autoloader
require __DIR__.'/../vendor/autoload.php';

// Create the application
$app = require_once __DIR__.'/../bootstrap/app.php';

// Get the HTTP Kernel
$kernel = $app->make(Illuminate\Contracts\Http\Kernel::class);

// Process the request
$response = $kernel->handle(
    $request = Illuminate\Http\Request::capture()
);

// Send the response back to the client's browser
$response->send();

// Perform any final actions
$kernel->terminate($request, $response);</pre>
                </div>
            </div>
        </div>
        
        <!-- Slide 3: Bootstrap -->
        <div id="slide-3" class="slide">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Step 3: Bootstrap Process</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-8">
                <div>
                    <p class="text-lg text-gray-700 mb-4">The <code class="bg-gray-200 px-1 rounded">bootstrap/app.php</code> file creates the Laravel application instance.</p>
                    <p class="text-lg text-gray-700 mb-4">During this bootstrap process:</p>
                    <ul class="list-disc pl-6 mb-6 text-lg text-gray-700">
                        <li class="mb-2">The application container is created</li>
                        <li class="mb-2">Key service providers are registered</li>
                        <li class="mb-2">Request and response handlers are bound</li>
                        <li class="mb-2">Environment variables are loaded</li>
                        <li class="mb-2">Configuration files are processed</li>
                    </ul>
                    <p class="text-lg text-gray-700">This prepares the application to handle the incoming request.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div class="flex items-center justify-center h-64">
                        <div id="bootstrap-animation" class="text-center component">
                            <svg width="100" height="100" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mx-auto mb-4">
                                <rect x="4" y="2" width="16" height="20" rx="2" stroke="#334155" stroke-width="2"/>
                                <path d="M8 7H16" stroke="#DC2626" stroke-width="2" stroke-linecap="round"/>
                                <path d="M8 12H16" stroke="#DC2626" stroke-width="2" stroke-linecap="round"/>
                                <path d="M8 17H16" stroke="#DC2626" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                            <p class="text-xl font-semibold text-gray-800">Bootstrap Process</p>
                            <p class="text-sm text-gray-600 mt-2">Setting up the Laravel environment</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Slide 4: HTTP Kernel -->
        <div id="slide-4" class="slide">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Step 4: HTTP Kernel Processing</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-8">
                <div>
                    <p class="text-lg text-gray-700 mb-4">The HTTP Kernel acts as a central hub through which all requests flow.</p>
                    <p class="text-lg text-gray-700 mb-4">It performs several important tasks:</p>
                    <ul class="list-disc pl-6 mb-6 text-lg text-gray-700">
                        <li class="mb-2">Detects and manages maintenance mode</li>
                        <li class="mb-2">Sets up error handling</li>
                        <li class="mb-2">Loads service providers</li>
                        <li class="mb-2 font-semibold text-red-700">Processes global middleware</li>
                    </ul>
                    <p class="text-lg text-gray-700">Global middleware includes:</p>
                    <ul class="list-disc pl-6 mb-6 text-lg text-gray-700">
                        <li class="mb-1">TrustProxies</li>
                        <li class="mb-1">PreventRequestsDuringMaintenance</li>
                        <li class="mb-1">ValidatePostSize</li>
                        <li class="mb-1">TrimStrings</li>
                        <li class="mb-1">ConvertEmptyStringsToNull</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div id="middleware-animation" class="component">
                        <div class="relative h-64 flex items-center justify-center">
                            <div class="w-full max-w-sm mx-auto">
                                <div id="middleware-layers" class="relative w-full">
                                    <div class="bg-gray-200 rounded-lg p-4 mb-3 text-center text-gray-700">
                                        <span class="font-semibold">TrustProxies Middleware</span>
                                    </div>
                                    <div class="bg-gray-200 rounded-lg p-4 mb-3 text-center text-gray-700">
                                        <span class="font-semibold">ValidatePostSize Middleware</span>
                                    </div>
                                    <div class="bg-gray-200 rounded-lg p-4 mb-3 text-center text-gray-700">
                                        <span class="font-semibold">TrimStrings Middleware</span>
                                    </div>
                                    <div class="bg-red-100 border-2 border-red-500 rounded-lg p-4 text-center text-red-700">
                                        <span class="font-semibold">Your Request</span>
                                    </div>
                                </div>
                            </div>
                            <div id="middleware-arrow" class="absolute right-0 top-1/2 transform -translate-y-1/2 opacity-0">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 18L15 12L9 6" stroke="#DC2626" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Slide 5: Routing -->
        <div id="slide-5" class="slide">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Step 5: Routing</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-8">
                <div>
                    <p class="text-lg text-gray-700 mb-4">After passing through middleware, Laravel routes the request to the appropriate controller or closure.</p>
                    <p class="text-lg text-gray-700 mb-4">The routing process:</p>
                    <ul class="list-disc pl-6 mb-6 text-lg text-gray-700">
                        <li class="mb-2">Matches the URL against defined routes in <code class="bg-gray-200 px-1 rounded">routes/web.php</code> or <code class="bg-gray-200 px-1 rounded">routes/api.php</code></li>
                        <li class="mb-2">Applies route-specific middleware</li>
                        <li class="mb-2">Passes URL parameters to the route handler</li>
                        <li class="mb-2">Resolves controller methods via the service container</li>
                    </ul>
                    <button id="show-route-code" class="text-red-600 hover:text-red-800 font-semibold transition">View route definition code →</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div id="routing-animation" class="component relative h-64">
                        <div class="mb-6">
                            <div class="font-medium text-gray-700 mb-2">Request URL:</div>
                            <div class="bg-gray-100 p-3 rounded border border-gray-300 text-gray-800 font-mono">
                                GET /users
                            </div>
                        </div>
                        <div class="mb-4">
                            <div class="font-medium text-gray-700 mb-2">Matching Route:</div>
                            <div id="route-match" class="bg-red-100 p-3 rounded border border-red-300 text-red-800 font-mono">
                                Route::get('/users', [UserController::class, 'index']);
                            </div>
                        </div>
                    </div>
                    <pre id="route-code" class="code-block bg-gray-800 text-white p-4 rounded text-sm overflow-x-auto">
// routes/web.php

Route::get('/', function () {
    return view('welcome');
});

Route::get('/users', [UserController::class, 'index']);

Route::get('/users/{id}', [UserController::class, 'show']);

// Route groups
Route::middleware(['auth'])->group(function () {
    Route::get('/dashboard', [DashboardController::class, 'index']);
    Route::resource('/posts', PostController::class);
});</pre>
                </div>
            </div>
        </div>
        
        <!-- Slide 6: Controller -->
        <div id="slide-6" class="slide">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Step 6: Controller Action</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-8">
                <div>
                    <p class="text-lg text-gray-700 mb-4">Once the route is matched, Laravel executes the corresponding controller action.</p>
                    <p class="text-lg text-gray-700 mb-4">The controller:</p>
                    <ul class="list-disc pl-6 mb-6 text-lg text-gray-700">
                        <li class="mb-2">Receives the request data</li>
                        <li class="mb-2">Interacts with models to fetch or manipulate data</li>
                        <li class="mb-2">Prepares data for presentation</li>
                        <li class="mb-2">Returns a response (view, JSON, redirect, etc.)</li>
                    </ul>
                    <p class="text-lg text-gray-700 mb-4">Laravel 11 controllers are more streamlined and can use PHP 8.2 features like readonly properties and constructor property promotion.</p>
                    <button id="show-controller-code" class="text-red-600 hover:text-red-800 font-semibold transition">View controller code →</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div id="controller-animation" class="component relative h-64 flex items-center justify-center">
                        <div class="text-center">
                            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mx-auto mb-4">
                                <rect x="3" y="3" width="18" height="18" rx="2" stroke="#DC2626" stroke-width="2"/>
                                <path d="M3 9L21 9" stroke="#DC2626" stroke-width="2"/>
                                <circle cx="7.5" cy="6" r="1.5" fill="#DC2626"/>
                                <path d="M7 14H17" stroke="#334155" stroke-width="2" stroke-linecap="round"/>
                                <path d="M7 17H13" stroke="#334155" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                            <p class="text-xl font-semibold text-gray-800">UserController@index</p>
                            <div id="controller-badge" class="mt-2 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
                                Processing Request
                            </div>
                        </div>
                    </div>
                    <pre id="controller-code" class="code-block bg-gray-800 text-white p-4 rounded text-sm overflow-x-auto">
// app/Http/Controllers/UserController.php

class UserController extends Controller
{
    public function __construct(
        private readonly UserRepository $users
    ) {}
    
    /**
     * Display a listing of users.
     */
    public function index()
    {
        // Get all users from the repository
        $users = $this->users->all();
        
        // Return a view with the users data
        return view('users.index', compact('users'));
    }
    
    /**
     * Display the specified user.
     */
    public function show(string $id)
    {
        $user = $this->users->find($id);
        
        return view('users.show', compact('user'));
    }
}</pre>
                </div>
            </div>
        </div>
        
        <!-- Slide 7: Model -->
        <div id="slide-7" class="slide">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Step 7: Model/Database Interaction</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-8">
                <div>
                    <p class="text-lg text-gray-700 mb-4">Controllers often interact with models to retrieve or modify data from the database.</p>
                    <p class="text-lg text-gray-700 mb-4">Laravel's Eloquent ORM:</p>
                    <ul class="list-disc pl-6 mb-6 text-lg text-gray-700">
                        <li class="mb-2">Provides an expressive ActiveRecord implementation</li>
                        <li class="mb-2">Converts method calls to SQL queries</li>
                        <li class="mb-2">Handles relationships between models</li>
                        <li class="mb-2">Manages data validation and casting</li>
                    </ul>
                    <p class="text-lg text-gray-700">Each model typically corresponds to a table in your database.</p>
                    <button id="show-model-code" class="text-red-600 hover:text-red-800 font-semibold transition">View model code →</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div id="database-animation" class="component relative h-64">
                        <div class="flex flex-col items-center justify-center">
                            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mb-4">
                                <path d="M19 7C19 9.21 15.42 11 11 11C6.58 11 3 9.21 3 7C3 4.79 6.58 3 11 3C15.42 3 19 4.79 19 7Z" stroke="#334155" stroke-width="2"/>
                                <path d="M19 12C19 14.21 15.42 16 11 16C6.58 16 3 14.21 3 12" stroke="#334155" stroke-width="2"/>
                                <path d="M3 7V17C3 19.21 6.58 21 11 21C15.42 21 19 19.21 19 17V7" stroke="#334155" stroke-width="2"/>
                            </svg>
                            <p class="text-xl font-semibold text-gray-800 mb-2">Database Query</p>
                            <div id="query-box" class="w-full mt-2 p-3 bg-gray-100 rounded border border-gray-300 font-mono text-sm text-gray-700">
                                SELECT * FROM users ORDER BY name
                            </div>
                            <div id="results-badge" class="mt-4 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 opacity-0">
                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                Results Retrieved
                            </div>
                        </div>
                    </div>
                    <pre id="model-code" class="code-block bg-gray-800 text-white p-4 rounded text-sm overflow-x-auto">
// app/Models/User.php

class User extends Authenticatable
{
    use HasApiTokens, HasFactory, Notifiable;

    /**
     * The attributes that are mass assignable.
     */
    protected $fillable = [
        'name',
        'email',
        'password',
    ];

    /**
     * The attributes that should be hidden for serialization.
     */
    protected $hidden = [
        'password',
        'remember_token',
    ];

    /**
     * Get the posts for the user.
     */
    public function posts()
    {
        return $this->hasMany(Post::class);
    }
}</pre>
                </div>
            </div>
        </div>
        
        <!-- Slide 8: View -->
        <div id="slide-8" class="slide">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Step 8: View Rendering</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-8">
                <div>
                    <p class="text-lg text-gray-700 mb-4">After retrieving data, the controller passes it to a view for rendering.</p>
                    <p class="text-lg text-gray-700 mb-4">Laravel's Blade templating engine:</p>
                    <ul class="list-disc pl-6 mb-6 text-lg text-gray-700">
                        <li class="mb-2">Processes templates with a clean, expressive syntax</li>
                        <li class="mb-2">Compiles templates to optimized PHP code</li>
                        <li class="mb-2">Supports layouts, components, and slots</li>
                        <li class="mb-2">Caches compiled views for better performance</li>
                    </ul>
                    <p class="text-lg text-gray-700">Laravel 11 enhances Blade with new features and better performance.</p>
                    <button id="show-view-code" class="text-red-600 hover:text-red-800 font-semibold transition">View Blade template code →</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div id="view-animation" class="component relative h-64">
                        <div class="font-medium text-gray-700 mb-2">Data Passed to View:</div>
                        <div class="bg-gray-100 p-3 rounded border border-gray-300 text-gray-800 font-mono text-sm mb-4">
                            $users = [ /* User records */ ]
                        </div>
                        <div id="view-rendering" class="flex items-center justify-center">
                            <div class="text-center">
                                <svg width="60" height="60" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mx-auto">
                                    <path d="M14 4H6C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V10M14 4L20 10M14 4V10H20" stroke="#334155" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <p class="text-lg font-semibold text-gray-800 mt-2">Blade Template</p>
                                <p class="text-sm text-gray-600">users.index.blade.php</p>
                            </div>
                        </div>
                    </div>
<!-- resources/views/users/index.blade.php -->

@extends('layouts.app')

@section('title', 'User List')

@section('content')
    <div class="container mx-auto px-4 py-6">
        <h1 class="text-3xl font-bold mb-6">User List</h1>
        
        <div class="bg-white shadow-md rounded-lg overflow-hidden">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Name
                        </th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Email
                        </th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Joined
                        </th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    @foreach($users as $user)
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap">
                                {{ $user->name }}
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap">
                                {{ $user->email }}
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                {{ $user->created_at->format('M d, Y') }}
                            </td>
                        </tr>
                    @endforeach
                </tbody>
            </table>
        </div>
    </div>
@endsection
</pre>
                </div>
            </div>
        </div>
        
        <!-- Slide 9: Response -->
        <div id="slide-9" class="slide">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Step 9: Response Creation</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-8">
                <div>
                    <p class="text-lg text-gray-700 mb-4">After the view is rendered, Laravel prepares the HTTP response to send back to the client.</p>
                    <p class="text-lg text-gray-700 mb-4">Response types include:</p>
                    <ul class="list-disc pl-6 mb-6 text-lg text-gray-700">
                        <li class="mb-2">HTML (rendered views)</li>
                        <li class="mb-2">JSON (for API responses)</li>
                        <li class="mb-2">File downloads</li>
                        <li class="mb-2">Redirects</li>
                    </ul>
                    <p class="text-lg text-gray-700">The response object allows setting headers, cookies, and status codes.</p>
                    <button id="show-response-code" class="text-red-600 hover:text-red-800 font-semibold transition">View response code examples →</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div id="response-animation" class="component relative h-64 flex items-center justify-center">
                        <div class="text-center">
                            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mx-auto mb-4">
                                <path d="M21 12L3 12" stroke="#DC2626" stroke-width="2" stroke-linecap="round"/>
                                <path d="M12 3L3 12L12 21" stroke="#DC2626" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <p class="text-xl font-semibold text-gray-800">HTTP Response</p>
                            <p class="text-sm text-gray-600 mt-2">200 OK</p>
                            <div id="response-badge" class="mt-2 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
                                HTML Content
                            </div>
                        </div>
                    </div>
                    <pre id="response-code" class="code-block bg-gray-800 text-white p-4 rounded text-sm overflow-x-auto">
// Example controller response methods

// Return a view
return view('users.index', compact('users'));

// Return JSON (for APIs)
return response()->json([
    'users' => $users,
    'count' => $users->count()
]);

// Return with status code
return response('Unauthorized', 401);

// Return a download
return response()->download($pathToFile);

// Return a redirect
return redirect()->route('dashboard');

// Return with headers
return response($content)
    ->header('Content-Type', 'application/json')
    ->header('X-Custom-Header', 'CustomValue');</pre>
                </div>
            </div>
        </div>
        
        <!-- Slide 10: Middleware (Response) -->
        <div id="slide-10" class="slide">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Step 10: Response Middleware</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-8">
                <div>
                    <p class="text-lg text-gray-700 mb-4">Before sending the response to the client, it passes back through middleware in reverse order.</p>
                    <p class="text-lg text-gray-700 mb-4">This allows middleware to:</p>
                    <ul class="list-disc pl-6 mb-6 text-lg text-gray-700">
                        <li class="mb-2">Modify the outgoing response</li>
                        <li class="mb-2">Add headers (e.g., CORS headers)</li>
                        <li class="mb-2">Transform response data</li>
                        <li class="mb-2">Perform cleanup operations</li>
                    </ul>
                    <p class="text-lg text-gray-700">This "onion model" enables clean request/response manipulation.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div id="response-middleware-animation" class="component relative h-64 flex items-center justify-center">
                        <div class="w-full max-w-sm mx-auto">
                            <div id="response-middleware-layers" class="relative w-full">
                                <div class="bg-red-100 border-2 border-red-500 rounded-lg p-4 mb-3 text-center text-red-700">
                                    <span class="font-semibold">Your Response</span>
                                </div>
                                <div class="bg-gray-200 rounded-lg p-4 mb-3 text-center text-gray-700">
                                    <span class="font-semibold">TrimStrings Middleware</span>
                                </div>
                                <div class="bg-gray-200 rounded-lg p-4 mb-3 text-center text-gray-700">
                                    <span class="font-semibold">ValidatePostSize Middleware</span>
                                </div>
                                <div class="bg-gray-200 rounded-lg p-4 text-center text-gray-700">
                                    <span class="font-semibold">TrustProxies Middleware</span>
                                </div>
                            </div>
                        </div>
                        <div id="response-middleware-arrow" class="absolute right-0 top-1/2 transform -translate-y-1/2 opacity-0">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9 18L15 12L9 6" stroke="#DC2626" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Slide 11: Client Response -->
        <div id="slide-11" class="slide">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Step 11: Client Response</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-8">
                <div>
                    <p class="text-lg text-gray-700 mb-4">Finally, the response is sent back to the client's browser.</p>
                    <p class="text-lg text-gray-700 mb-4">The $response->send() method:</p>
                    <ul class="list-disc pl-6 mb-6 text-lg text-gray-700">
                        <li class="mb-2">Sends HTTP headers</li>
                        <li class="mb-2">Outputs the response content</li>
                        <li class="mb-2">Sets cookies if needed</li>
                    </ul>
                    <p class="text-lg text-gray-700 mb-4">After sending the response, Laravel calls the terminate method on the kernel to perform any final cleanup tasks.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <div id="client-response-animation" class="component">
                        <div class="w-full h-8 bg-gray-200 rounded-t-lg flex items-center px-4">
                            <div class="w-3 h-3 rounded-full bg-red-500 mr-2"></div>
                            <div class="w-3 h-3 rounded-full bg-yellow-500 mr-2"></div>
                            <div class="w-3 h-3 rounded-full bg-green-500 mr-2"></div>
                            <div class="flex-1 bg-white h-5 rounded-sm px-2 text-xs flex items-center">
                                example.com/users
                            </div>
                        </div>
                        <div class="w-full bg-white border border-gray-200 rounded-b-lg p-4 h-56 overflow-hidden">
                            <div id="browser-content" class="opacity-0">
                                <h1 class="text-xl font-bold mb-4">User List</h1>
                                <div class="border rounded">
                                    <table class="min-w-full divide-y divide-gray-200">
                                        <thead class="bg-gray-50">
                                            <tr>
                                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Name</th>
                                                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Email</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="px-4 py-2 text-sm">John Doe</td>
                                                <td class="px-4 py-2 text-sm">john@example.com</td>
                                            </tr>
                                            <tr class="bg-gray-50">
                                                <td class="px-4 py-2 text-sm">Jane Smith</td>
                                                <td class="px-4 py-2 text-sm">jane@example.com</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Slide 12: Summary -->
        <div id="slide-12" class="slide">
            <h2 class="text-3xl font-bold text-gray-800 mb-8">Laravel 11 Request Lifecycle: Recap</h2>
            <div class="bg-white p-6 rounded-lg shadow-lg mb-10">
                <div id="summary-animation" class="component">
                    <ol class="relative border-l border-gray-300 ml-4">
                        <li class="mb-6 ml-6" id="summary-step-1">
                            <span class="absolute flex items-center justify-center w-8 h-8 bg-red-100 rounded-full -left-4 ring-4 ring-white">
                                <span class="text-red-600 font-bold">1</span>
                            </span>
                            <h3 class="font-semibold text-lg text-gray-800">User Request</h3>
                            <p class="text-base text-gray-600">User sends HTTP request to your application.</p>
                        </li>
                        <li class="mb-6 ml-6" id="summary-step-2">
                            <span class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -left-4 ring-4 ring-white">
                                <span class="text-gray-500 font-bold">2</span>
                            </span>
                            <h3 class="font-semibold text-lg text-gray-500">Entry Point</h3>
                            <p class="text-base text-gray-500">Request first hits public/index.php file.</p>
                        </li>
                        <li class="mb-6 ml-6" id="summary-step-3">
                            <span class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -left-4 ring-4 ring-white">
                                <span class="text-gray-500 font-bold">3</span>
                            </span>
                            <h3 class="font-semibold text-lg text-gray-500">Bootstrap</h3>
                            <p class="text-base text-gray-500">Application loads environment and configuration.</p>
                        </li>
                        <li class="mb-6 ml-6" id="summary-step-4">
                            <span class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -left-4 ring-4 ring-white">
                                <span class="text-gray-500 font-bold">4</span>
                            </span>
                            <h3 class="font-semibold text-lg text-gray-500">HTTP Kernel</h3>
                            <p class="text-base text-gray-500">Request passes through global middleware.</p>
                        </li>
                        <li class="mb-6 ml-6" id="summary-step-5">
                            <span class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -left-4 ring-4 ring-white">
                                <span class="text-gray-500 font-bold">5</span>
                            </span>
                            <h3 class="font-semibold text-lg text-gray-500">Routing</h3>
                            <p class="text-base text-gray-500">Application matches URL to defined routes.</p>
                        </li>
                        <li class="mb-6 ml-6" id="summary-step-6">
                            <span class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -left-4 ring-4 ring-white">
                                <span class="text-gray-500 font-bold">6</span>
                            </span>
                            <h3 class="font-semibold text-lg text-gray-500">Controller</h3>
                            <p class="text-base text-gray-500">Controller processes the request.</p>
                        </li>
                        <li class="mb-6 ml-6" id="summary-step-7">
                            <span class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -left-4 ring-4 ring-white">
                                <span class="text-gray-500 font-bold">7</span>
                            </span>
                            <h3 class="font-semibold text-lg text-gray-500">Models</h3>
                            <p class="text-base text-gray-500">Application interacts with database via models.</p>
                        </li>
                        <li class="mb-6 ml-6" id="summary-step-8">
                            <span class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -left-4 ring-4 ring-white">
                                <span class="text-gray-500 font-bold">8</span>
                            </span>
                            <h3 class="font-semibold text-lg text-gray-500">View</h3>
                            <p class="text-base text-gray-500">Blade templates render HTML content.</p>
                        </li>
                        <li class="mb-6 ml-6" id="summary-step-9">
                            <span class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -left-4 ring-4 ring-white">
                                <span class="text-gray-500 font-bold">9</span>
                            </span>
                            <h3 class="font-semibold text-lg text-gray-500">Response</h3>
                            <p class="text-base text-gray-500">Application prepares HTTP response.</p>
                        </li>
                        <li class="mb-6 ml-6" id="summary-step-10">
                            <span class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -left-4 ring-4 ring-white">
                                <span class="text-gray-500 font-bold">10</span>
                            </span>
                            <h3 class="font-semibold text-lg text-gray-500">Response Middleware</h3>
                            <p class="text-base text-gray-500">Response passes back through middleware.</p>
                        </li>
                        <li class="ml-6" id="summary-step-11">
                            <span class="absolute flex items-center justify-center w-8 h-8 bg-gray-100 rounded-full -left-4 ring-4 ring-white">
                                <span class="text-gray-500 font-bold">11</span>
                            </span>
                            <h3 class="font-semibold text-lg text-gray-500">Client Response</h3>
                            <p class="text-base text-gray-500">Response is sent back to user's browser.</p>
                        </li>
                    </ol>
                </div>
            </div>
            <center>
                <img src="laravel.jpg" alt="Laravel app directory structure" class="max-w-full rounded-lg shadow">
            </center>

            <p class="text-lg text-gray-700 mb-4">Laravel 11 enhances this established request lifecycle with:</p>
            <ul class="list-disc pl-6 mb-10 text-lg text-gray-700">
                <li class="mb-2">Improved performance through lower memory usage</li>
                <li class="mb-2">More streamlined architecture</li>
                <li class="mb-2">Better support for PHP 8.2 features</li>
                <li class="mb-2">Enhanced security with automatic CSRF protection</li>
                <li class="mb-2">Simpler dependency injection</li>
            </ul>
        </div>
        
        
        <!-- Final Slide -->
        <div id="slide-13" class="slide">
            <div class="h-screen flex flex-col items-center justify-center">
                <div class="text-center">
                    <h1 class="text-5xl font-bold text-gray-800 mb-8">Thank You!</h1>
                    <h2 class="text-3xl font-semibold text-red-600 mb-12">Laravel 11 Request Lifecycle</h2>
                    <p class="text-xl text-gray-600 mb-16">A visual journey through Laravel's elegant architecture</p>
                    <button id="restart-animation" class="bg-red-600 hover:bg-red-700 text-white text-xl px-8 py-4 rounded-lg shadow-lg transition">
                        Restart Animation
                    </button>
                </div>
            </div>
            
        </div>
    </div>
    

    <!-- JavaScript for Animation Control -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Variables
            let currentSlide = 0;
            const totalSlides = 14; // 0-13
            
            // DOM Elements
            const slides = document.querySelectorAll('.slide');
            const nextBtn = document.getElementById('next-btn');
            const prevBtn = document.getElementById('prev-btn');
            const restartBtn = document.getElementById('restart-btn');
            const startBtn = document.getElementById('start-btn');
            const restartAnimationBtn = document.getElementById('restart-animation');
            const progressBar = document.getElementById('progress-bar');
            const codeButtons = [
                { btn: 'show-index-code', code: 'index-code' },
                { btn: 'show-route-code', code: 'route-code' },
                { btn: 'show-controller-code', code: 'controller-code' },
                { btn: 'show-model-code', code: 'model-code' },
                { btn: 'show-view-code', code: 'view-code' },
                { btn: 'show-response-code', code: 'response-code' }
            ];
            
            // Setup code toggle buttons
            codeButtons.forEach(item => {
                const btn = document.getElementById(item.btn);
                const code = document.getElementById(item.code);
                
                if (btn && code) {
                    btn.addEventListener('click', function() {
                        if (code.style.display === 'block') {
                            code.style.display = 'none';
                            btn.textContent = btn.textContent.replace('Hide', 'View');
                        } else {
                            code.style.display = 'block';
                            btn.textContent = btn.textContent.replace('View', 'Hide');
                        }
                    });
                }
            });
            
            // Initialize animations for each slide
            function initSlideAnimations() {
                // Slide 1: User Request
                if (currentSlide === 0) {
                    gsap.to('#browser', { opacity: 1, y: 0, duration: 0.8 });
                    gsap.to('#request-object', { 
                        left: '60%', 
                        duration: 2,
                        delay: 1
                    });
                }
                
                // Slide 2: Entry Point
                if (currentSlide === 1) {
                    gsap.to('#folder-structure', { opacity: 1, y: 0, duration: 0.8 });
                }
                
                // Slide 3: Bootstrap
                if (currentSlide === 2) {
                    gsap.to('#bootstrap-animation', { opacity: 1, y: 0, duration: 0.8 });
                }
                
                // Slide 4: HTTP Kernel/Middleware
                if (currentSlide === 3) {
                    gsap.to('#middleware-animation', { opacity: 1, y: 0, duration: 0.8 });
                    gsap.to('#middleware-arrow', { opacity: 1, duration: 0.8, delay: 1 });
                }
                
                // Slide 5: Routing
                if (currentSlide === 4) {
                    gsap.to('#routing-animation', { opacity: 1, y: 0, duration: 0.8 });
                    gsap.to('#route-match', { 
                        backgroundColor: 'rgba(220, 38, 38, 0.2)',
                        color: '#DC2626',
                        fontWeight: 'bold',
                        duration: 0.8,
                        delay: 1
                    });
                }
                
                // Slide 6: Controller
                if (currentSlide === 5) {
                    gsap.to('#controller-animation', { opacity: 1, y: 0, duration: 0.8 });
                    gsap.to('#controller-badge', { 
                        backgroundColor: 'rgba(220, 38, 38, 0.2)',
                        color: '#DC2626',
                        duration: 0.8,
                        delay: 1
                    });
                }
                
                // Slide 7: Database/Model
                if (currentSlide === 6) {
                    gsap.to('#database-animation', { opacity: 1, y: 0, duration: 0.8 });
                    gsap.to('#query-box', { 
                        backgroundColor: 'rgba(220, 38, 38, 0.1)',
                        borderColor: '#DC2626',
                        color: '#DC2626',
                        duration: 0.8,
                        delay: 1
                    });
                    gsap.to('#results-badge', { opacity: 1, duration: 0.8, delay: 2 });
                }
                
                // Slide 8: View
                if (currentSlide === 7) {
                    gsap.to('#view-animation', { opacity: 1, y: 0, duration: 0.8 });
                    gsap.to('#view-rendering', { 
                        scale: 1.1,
                        duration: 0.8,
                        delay: 1,
                        yoyo: true,
                        repeat: 1
                    });
                }
                
                // Slide 9: Response
                if (currentSlide === 8) {
                    gsap.to('#response-animation', { opacity: 1, y: 0, duration: 0.8 });
                    gsap.to('#response-badge', { 
                        backgroundColor: 'rgba(220, 38, 38, 0.2)',
                        color: '#DC2626',
                        duration: 0.8,
                        delay: 1
                    });
                }
                
                // Slide 10: Response Middleware
                if (currentSlide === 9) {
                    gsap.to('#response-middleware-animation', { opacity: 1, y: 0, duration: 0.8 });
                    gsap.to('#response-middleware-arrow', { opacity: 1, duration: 0.8, delay: 1 });
                }
                
                // Slide 11: Client Response
                if (currentSlide === 10) {
                    gsap.to('#client-response-animation', { opacity: 1, y: 0, duration: 0.8 });
                    gsap.to('#browser-content', { opacity: 1, duration: 0.8, delay: 1 });
                }
                
                // Slide 12: Summary
                if (currentSlide === 11) {
                    gsap.to('#summary-animation', { opacity: 1, y: 0, duration: 0.8 });
                    
                    // Highlight each step in sequence
                    for (let i = 2; i <= 11; i++) {
                        gsap.to(`#summary-step-${i} span`, { 
                            backgroundColor: 'rgba(220, 38, 38, 0.2)',
                            color: '#DC2626',
                            duration: 0.5,
                            delay: 0.5 + (i-1) * 0.3
                        });
                        gsap.to(`#summary-step-${i} h3`, { 
                            color: '#DC2626',
                            duration: 0.5,
                            delay: 0.5 + (i-1) * 0.3
                        });
                        gsap.to(`#summary-step-${i} p`, { 
                            color: '#4B5563',
                            duration: 0.5,
                            delay: 0.5 + (i-1) * 0.3
                        });
                    }
                }
            }
            
            // Function to show a specific slide
            function showSlide(index) {
                if (index < 0) index = 0;
                if (index >= totalSlides) index = totalSlides - 1;
                
                slides.forEach(slide => slide.classList.remove('active-slide'));
                
                if (slides[index]) {
                    slides[index].classList.add('active-slide');
                    currentSlide = index;
                    updateProgressBar();
                    initSlideAnimations();
                }
            }
            
            // Update progress bar
            function updateProgressBar() {
                const progress = (currentSlide / (totalSlides - 1)) * 100;
                progressBar.style.width = `${progress}%`;
            }
            
            // Event listeners for navigation
            nextBtn.addEventListener('click', () => showSlide(currentSlide + 1));
            prevBtn.addEventListener('click', () => showSlide(currentSlide - 1));
            restartBtn.addEventListener('click', () => showSlide(1));
            restartAnimationBtn.addEventListener('click', () => showSlide(1));
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight') {
                    showSlide(currentSlide + 1);
                } else if (e.key === 'ArrowLeft') {
                    showSlide(currentSlide - 1);
                }
            });
            
            // Components animation
            document.querySelectorAll('.component').forEach(comp => {
                gsap.set(comp, { opacity: 0, y: 20 });
            });
            
            // Initialize the first slide
            showSlide(0);
        });
    </script>
</body>
</html>